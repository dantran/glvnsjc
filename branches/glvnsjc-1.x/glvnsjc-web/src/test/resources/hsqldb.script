CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE MEMORY TABLE LOGINPROFILE(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,USERID VARCHAR(255) NOT NULL,PASSWORD VARCHAR(255),PRIVILEGE INTEGER NOT NULL,REMOVABLE BOOLEAN NOT NULL,LOGINABLE BOOLEAN NOT NULL,SCHOOL INTEGER,GIAOLYCLASS INTEGER,GIAOLYSUBCLASS INTEGER,VIETNGUCLASS INTEGER,VIETNGUSUBCLASS INTEGER,TEACHERTYPE INTEGER NOT NULL,LASTNAME VARCHAR(255),MIDDLENAME VARCHAR(255),FIRSTNAME VARCHAR(255),STREET1 VARCHAR(255),STREET2 VARCHAR(255),CITY VARCHAR(255),STATE VARCHAR(255),ZIPCODE VARCHAR(255),EMAIL VARCHAR(255),PHONE1 VARCHAR(255),PHONE2 VARCHAR(255),BIRTHDATE VARCHAR(255),SAINTNAME VARCHAR(255),GENDER INTEGER,CONSTRAINT SYS_CT_46 UNIQUE(USERID))
CREATE MEMORY TABLE LOSTSTUDENT(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,LASTNAME VARCHAR(255),MIDDLENAME VARCHAR(255),FIRSTNAME VARCHAR(255),REPORTEDBY INTEGER,BIRTHDATE DATE,PHONE VARCHAR(255),GIAOLYNAME INTEGER,GIAOLYSUBNAME INTEGER,VIETNGUNAME INTEGER,VIETNGUSUBNAME INTEGER,NOTIFIEDMASTER BOOLEAN NOT NULL,CREATEDDATE DATE NOT NULL,CONSTRAINT FKBFBA6A5755312D58 FOREIGN KEY(REPORTEDBY) REFERENCES LOGINPROFILE(ID))
CREATE MEMORY TABLE SCHOOL(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,NAME VARCHAR(255),SHORTNAME VARCHAR(255),CONSTRAINT SYS_CT_50 UNIQUE(SHORTNAME),CONSTRAINT SYS_CT_51 UNIQUE(NAME))
CREATE MEMORY TABLE SCHOOLDAY(DAY DATE NOT NULL PRIMARY KEY,ISHOLIDAY BOOLEAN,SCHOOLNOTE VARCHAR(255),TEACHERNOTE VARCHAR(255))
CREATE MEMORY TABLE SCHOOLYEAR(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,YEAR INTEGER NOT NULL,SCHOOL INTEGER NOT NULL,STUDENT INTEGER NOT NULL,HASAPPLICATION BOOLEAN,GIAOLYNAME INTEGER,GIAOLYSUBNAME INTEGER,GIAOLYGRADE INTEGER,GIAOLYCOMMENT VARCHAR(255),VIETNGUNAME INTEGER,VIETNGUSUBNAME INTEGER,VIETNGUGRADE INTEGER,VIETNGUCOMMENT VARCHAR(255),COMMENT VARCHAR(255),CONSTRAINT FK711A59F11CFA6C56 FOREIGN KEY(SCHOOL) REFERENCES SCHOOL(ID))
CREATE INDEX SCHOOLYEARMCI ON SCHOOLYEAR(YEAR,SCHOOL,STUDENT)
CREATE MEMORY TABLE SITECONFIG(ID INTEGER GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL PRIMARY KEY,CURRENTSCHOOLYEAR INTEGER,ISSITEACTIVE BOOLEAN,SMTPSERVER VARCHAR(255),SMTPUSERID VARCHAR(255),SMTPPASSWORD VARCHAR(255),FEEDBACKEMAIL VARCHAR(255))
CREATE MEMORY TABLE STUDENT(ID INTEGER NOT NULL PRIMARY KEY,LASTNAME VARCHAR(255),MIDDLENAME VARCHAR(255),FIRSTNAME VARCHAR(255),PARENTLASTNAME VARCHAR(255),PARENTMIDDLENAME VARCHAR(255),PARENTFIRSTNAME VARCHAR(255),STREET1 VARCHAR(255),STREET2 VARCHAR(255),CITY VARCHAR(255),STATE VARCHAR(255),ZIPCODE VARCHAR(255),EMAIL VARCHAR(255),PHONE1 VARCHAR(255),PHONE2 VARCHAR(255),BIRTHDATE DATE,SAINTNAME VARCHAR(255),GENDER INTEGER)
ALTER TABLE LOGINPROFILE ADD CONSTRAINT FKE50D0E201CFA6C56 FOREIGN KEY(SCHOOL) REFERENCES SCHOOL(ID)
ALTER TABLE SCHOOLYEAR ADD CONSTRAINT FK711A59F1BDBBFCC8 FOREIGN KEY(STUDENT) REFERENCES STUDENT(ID)
ALTER TABLE LOGINPROFILE ALTER COLUMN ID RESTART WITH 2
ALTER TABLE LOSTSTUDENT ALTER COLUMN ID RESTART WITH 1
ALTER TABLE SCHOOL ALTER COLUMN ID RESTART WITH 15
ALTER TABLE SCHOOLYEAR ALTER COLUMN ID RESTART WITH 57
ALTER TABLE SITECONFIG ALTER COLUMN ID RESTART WITH 2
CREATE USER SA PASSWORD ""
GRANT DBA TO SA
SET WRITE_DELAY 20
SET SCHEMA PUBLIC
INSERT INTO LOGINPROFILE VALUES(1,'admin','',1,FALSE,TRUE,NULL,0,0,0,0,4,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,0)
INSERT INTO SCHOOL VALUES(4,'School1','S1')
INSERT INTO SCHOOL VALUES(5,'School2','S2')
INSERT INTO SCHOOL VALUES(6,'School3','S3')
INSERT INTO SCHOOL VALUES(7,'School4','S4')
INSERT INTO SCHOOL VALUES(8,'School5','S5')
INSERT INTO SCHOOL VALUES(9,'School6','S6')
INSERT INTO SCHOOL VALUES(10,'School7','S7')
INSERT INTO SCHOOL VALUES(11,'School8','S8')
INSERT INTO SCHOOL VALUES(12,'School9','S9')
INSERT INTO SCHOOL VALUES(13,'School10','S10')
INSERT INTO SITECONFIG VALUES(1,2006,TRUE,NULL,NULL,NULL,NULL)
